<div class="row w-102">
  <div class="col-lg-12">
      <app-navbar></app-navbar>
  </div>
</div>

<div class="row w-100">
  <div class="col-lg-2">
      <app-sidenav class="sidebar"></app-sidenav>
  </div>

  <div class="col-lg-10 mb-250 mt-10">

    <mat-card class="w-80 m-auto">

      <div class="row mb-2">
          <div class="col-lg-12 ">
              <button mat-raised-button class="loginBtn  mr-2"  color="primary" type="button" (click)="showOrgImprovFun()">Add New Entry</button>
              <button mat-raised-button class="loginBtn mr-2"  color="primary" type="button"  >Upload File</button>
          </div>
      </div>
      <div>
        <h1 class="cen">Improvement</h1>
    <p style="text-align:center;margin-left:20%;margin-right:20%"> <b>The following is a list of steps that the organization must adhere to to continuously improve  the performance of the
        ISMS. 
    </b></p> 
<br>
<br>

  
        <ul style="text-align:left;margin-left:35%;margin-right:20%">
            <li>Take action to control and correct non conformity. </li>
            <li>Deal with Consequences</li> 
            <li>Ensure that the nonconformity does not re-occur by reviewing non-conformities, determining the cause and 
                determining if similar non-confirmities exist or could potentially occur.</li>
            <li> Implement an action needed.</li>
            <li>Review the effectiveness of any corrective action taken.</li>
            <li> Make changes to the information security management system.</li>
               
        </ul>
    
    <br>
      </div>

      <mat-card>
        <div class="container" style="margin-left:0%">
            <table class="table table-bordered table-striped">
               
                <thead>
                    <tr>
                 
                    <th>Method of Improvement</th>
                    
                    <th>Action</th>
                </tr>
        
                </thead>
            
                <tbody>
                    <tr *ngFor="let imp of improvements">
                      <!--<pre> {{ operation| json}}</pre>-->
                        <td><span >{{imp.Text}}<br>
                          |<a class="action" [routerLink]="['/improvement/edit', imp._id]">Edit</a>
                          |<a class="action" [routerLink]="['/improvement/view', imp._id]">View</a>  </span></td>
                          <td>
                            <mat-action-row>
                              <button mat-button color="primary" (click)="onDelete(imp._id)">DELETE</button>
                          </mat-action-row>
                          </td>
                          
                          
                        
                        
                        
                    
                    </tr>
                </tbody>
        
        
            </table>
        </div>
        </mat-card>

<div style="background-color: white;" class="sect mt-5" *ngIf="showOrgImprovCard">
    <div>
    
      <form [formGroup]= "improvform" (ngSubmit)="onAdd()">
        <mat-card >
          <mat-card-content >
              <div>
                  <mat-card>
              <mat-form-field>
                  <mat-label>Improvement</mat-label>
                  <input matInput type="text"
                   class="form-control" id="Text" 
                    formControlName="Text"
                     placeholder="Enter Improvement Strategy">
             
                    </mat-form-field><br>
              
              <input  class="action-link" 
              type="checkbox"
               class="form-check-input" 
                id="CorrectiveAction" 
                formControlName="CorrectiveAction">
              <br>
          </mat-card><br>
             
                  
  <!--
      <div>
          <br>
          <form [formGroup] = "uploadForm" multiple (ngSubmit)="onSubmit();onAdd()" style="text-align:center" >     
          <div>
            <mat-card style="width:45%;margin-left:25%">
              <mat-form-field>
                  <mat-label style="font-size:15px;font-style: sans-serif;"><b>Write Improvement Plan</b></mat-label>
                  <input
                      matInput type="string"
                      [(ngModel)] = Text
                      required [ngModelOptions]="{standalone: true}">  
              </mat-form-field> <br>

                
                <mat-checkbox [checked]="allComplete" [(ngModel)]="CorrectiveAction" color="primary"  [ngModelOptions]="{standalone: true}" >Form Completed</mat-checkbox><br>
                <br>
              </mat-card>
                <br>
                <br>
              
             
<p style="color:red">Upload documented information as  evidence of  comformance:</p>
              
          
          

            <mat-checkbox [checked]="allComplete" [(ngModel)]="CorrectiveAction" color="primary"  [ngModelOptions]="{standalone: true}" >File Uploaded</mat-checkbox><br>
                <br>
               
            -->
                <div>
                  <input type="file" name="profile" (change)="onFileSelect($event)" />
                </div><br>
        <br>
            <!--
            <div>
              <input type="file" name="profile" (change)="onFileSelect($event)" />
            </div>
          -->
            <div>
              <button style="margin-left:45% " mat-raised-button (click)="hideOrgImprovFun()" color="primary" class="mr-2">Close</button>
              
              <button mat-raised-button color="primary" [disabled]= "!improvform.valid" type="submit">Submit</button>
            </div>
          </div>
      

          
          